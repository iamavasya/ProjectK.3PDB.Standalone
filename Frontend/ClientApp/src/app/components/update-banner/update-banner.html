@if (updateService.updateState$ | async; as state) {

    @if (state !== 'idle' && !isDismissed) {
        <p-message class="flex w-auto m-4" severity="warn">
            <div class="flex items-center">
                <div class="w-full flex items-center justify-center gap-3">
                    @if (state === 'available') {
                        <div>
                            üöÄ
                        </div>
                        <div>
                            –î–æ—Å—Ç—É–ø–Ω–∞ –Ω–æ–≤–∞ –≤–µ—Ä—Å—ñ—è <span class="font-bold">{{ updateService.newVersion$ | async }}.</span>
                            –†–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ –æ–Ω–æ–≤–∏—Ç–∏—Å—è –¥–æ –æ—Å—Ç–∞–Ω–Ω—å–æ—ó —Å—Ç–∞–±—ñ–ª—å–Ω–æ—ó –≤–µ—Ä—Å—ñ—ó.
                        </div>
                        <p-button size="small" severity="warn" outlined="true" label="–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏" icon="pi pi-download" (onClick)="startDownload()"></p-button>
                    }
                    @else if (state === 'downloading') {
                        –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è...
                    }
                    @else if (state === 'ready') {
                        –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≥–æ—Ç–æ–≤–µ.
                        <p-button size="small" severity="success" outlined="true" label="–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏" icon="pi pi-refresh" (onClick)="restart()"></p-button>
                    }
                </div>
                
                @if (state !== 'downloading') {
                    <div class="ml-auto">
                        <p-button [rounded]="true" size="small" variant="text" severity="warn" icon="pi pi-times" (onClick)="dismiss()"></p-button>
                    </div>
                }
            </div>
        </p-message>
    }
}